{% extends 'base.html' %}
{% load static %}

{% block title %}Teacher Dashboard{% endblock %}

{% block content %}
  <h2>Welcome, {{ request.user.get_full_name }}</h2>
  {% if profile %}
      <h3>Department: {{ profile.department }}</h3>
  {% else %}
      <h3>No profile information available.</h3>
  {% endif %}

  <h4>Your Timetable</h4>
  <table>
    <thead>
      <tr>
        <th>Day</th>
        <th>Time</th>
        <th>Classroom</th>
      </tr>
    </thead>
    <tbody>
      {% for t in timetable %}
      <tr>
        <td>{{ t.day }}</td>
        <td>{{ t.start_time }} - {{ t.end_time }}</td>
        <td>{{ t.classroom.name }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="3">No classes assigned.</td></tr>
      {% endfor %}
    </tbody>
  </table>

  <h4>Upcoming Bookings</h4>
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Time</th>
        <th>Classroom</th>
      </tr>
    </thead>
    <tbody>
      {% for b in bookings %}
      <tr>
        <td>{{ b.date }}</td>
        <td>{{ b.start_time }} - {{ b.end_time }}</td>
        <td>{{ b.classroom.name }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="3">No upcoming bookings.</td></tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}

